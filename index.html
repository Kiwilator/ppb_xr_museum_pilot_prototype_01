<!DOCTYPE html>
<html lang="en">

  <!-- A VR Purple Bacteria Museum Pilot Prototype by Sonia Rodriguez - Jose L. Rubio - D.Puyol - URJC-->
  
<head>
  <meta charset="utf-8" />
  <title>Purple Bacteria Museum</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
  <link rel="stylesheet" href="./style.css">
</head>

<!-- ********************************* -->
<!--        Assets Enviro       -->        
<!-- ********************************* -->
  
<body>
  <a-scene
    renderer="colorManagement: true; physicallyCorrectLights: true; toneMapping: ACESFilmic; exposure: 1.2"
    background="color: #c6ddf1"
    fog="type: exponential; color: #c6ddf1; density: 0.06"
  >
    <a-assets timeout="15000">
      <a-asset-item id="mdl-cristales" src="./assets/cristales_bacterias_2.glb"></a-asset-item>
      <a-asset-item id="mdl-techo" src="./assets/techo.glb"></a-asset-item>
      <a-asset-item id="mdl-techo_paredes_2" src="./assets/paredes_suelo_textura_museo.glb"></a-asset-item>
    </a-assets>

    <a-sound id="bg-sound" src="./assets/music.mp3" autoplay="false" loop="true" volume="0.4" position="0 1.6 0"></a-sound>

    <!-- Modern light rig -->
    <a-entity light="type: ambient; intensity: 0.25"></a-entity>
    <a-entity light="type: hemisphere; intensity: 0.7; color: #ffffff; groundColor: #556677"></a-entity>
    <a-entity light="type: directional; intensity: 2.2" position="2 4 3"></a-entity>

    <!-- Models -->
    <a-entity gltf-model="#mdl-techo" position="0 6 10" scale="1 1 1"></a-entity>
    <a-entity gltf-model="#mdl-cristales" position="0 6 10" scale="1 1 1" animation-mixer></a-entity>
    <a-entity gltf-model="#mdl-techo_paredes_2" position="0 6 10" scale="1 1 1" animation-mixer></a-entity>

    <!-- Camera + controls -->
    <a-entity id="rig" position="0 1.6 4">
      <a-entity camera look-controls wasd-controls cursor="rayOrigin: mouse"></a-entity>
    </a-entity>

    <a-entity id="debug" position="0 2 -2" text="value: ; align: center"></a-entity>
  </a-scene>


  <!-- ********************************* -->
  <!--        Interactividad       -->        
  <!-- ********************************* -->

  <script>
  // Function to play the sound
 function playSound() {
    // Get the a-sound element by its ID
    const sound = document.querySelector("#bg-sound");

    // Check if the sound component is found and play it
    if (sound) {
      sound.components.sound.playSound();
    }
  }

  // Add a click event listener to the document
  document.addEventListener("click", function () {
    playSound();
  });
  </script>
</body>
</html>






